# 项目工作总览

> 汇总全局工作项，统一标记完成情况，避免重复维护；如需细化请在同一条目下更新备注。状态含义：✅ 已完成｜🔄 进行中｜⏳ 待启动。

## 数据与特征

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| 因子计算流水线 | 🔄 | `compute_factors()` 及持久化流程已可用，仍需支持增量模式与公式复核。 |
| DataBroker 弹性 | 🔄 | 自动重试、健康监控已接入；数据质量评分体系待设计。 |
| 因子库扩展 | 🔄 | 动量/估值/流动性/情绪因子已上线；权重优化与组合评估待补。 |
| 新闻数据接入 | 🔄 | RSS 解析与情感分析可用；实体识别与时效评分仍缺。 |
| 数据完整性体系 | ⏳ | 需建立巡检脚本、异常告警与补数流程。 |
| 选股使用预计算因子 | ⏳ | 调整选股流程以直接消费持久化因子，避免重复计算。 |
| 因子公式复核 | ⏳ | 梳理现有公式、补充可视化验证与文档沉淀。 |

## 决策优化与强化学习

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| DecisionEnv 扩展 | 🔄 | Episode 指标新增 Sharpe/Calmar，奖励函数引入风险惩罚；继续覆盖提示版本、function 策略等。 |
| 强化学习基线 | ✅ | PPO/SAC 等连续动作算法已接入并形成实验基线。 |
| 奖励与评估体系 | 🔄 | 决策环境奖励已纳入风险/Turnover/Sharpe-Calmar，待接入成交与资金曲线指标。 |
| 实时持仓链路 | ⏳ | 建立线上持仓/成交写入与离线调参与监控共享的数据源。 |
| 全局参数搜索 | 🔄 | 已上线 epsilon-greedy 调参与指标输出，后续补充贝叶斯优化 / BOHB。 |

## 多智能体协同与 LLM

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| Provider 与 function 架构 | ✅ | Provider 管理、function-calling 降级与重试策略已收敛。 |
| 提示模板治理 | 🔄 | LLM 设置新增模板版本治理与使用监控，后续补充成本/效果数据。 |
| 部门遥测可视化 | 🔄 | LLM 设置新增遥测面板，支持分页查看/导出部门 & 全局遥测。 |
| 多轮逻辑博弈框架 | 🔄 | 新增主持 briefing、预测对齐及冲突复核轮，持续完善信念修正策略。 |
| LLM 稳定性提升 | ⏳ | 持续优化限速、降级、成本控制与缓存策略。 |

## UI 与监控

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| 一键重评估入口 | ✅ | 今日计划页提供批量/全量重评估入口，待收集反馈再做优化。 |
| 回测实验对比 | 🔄 | 新增会话实验保存与曲线/指标对比，后续接入更多提示参数。 |
| 实时指标面板 | ✅ | Streamlit 监控页已具备核心实时指标。 |
| 异常日志钻取 | ⏳ | 待补充筛选、定位与历史对比能力。 |
| 仅监控模式 | ⏳ | 支持“监控不干预”场景的一键复评策略。 |
| 风险预警面板 | ✅ | 风险预警能力已落地，仍需持续扩充指标。 |

## 风险控制与执行

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| 风险代理决策闭环 | ✅ | `risk_round` 可调整决策并写入 `risk_assessment`。 |
| 风险事件持久化 | 🔄 | 风险建议已写入决策结构，待落库至 `risk_events` 并完善 UI 呈现。 |
| 实时告警接入 | ⏳ | 需对接外部告警渠道，支撑影子运行与上线验证。 |
| 风险场景测试 | ⏳ | 补充停牌、仓位超限、黑名单等自动化测试样例。 |

## 测试与质量保障

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| 单元/集成测试覆盖 | ⏳ | 补充部门上下文、LLM 调用、回测指标等核心路径测试。 |
| 决策流程回归集 | ⏳ | 建立提示模板调整后的回归用例，确保行为可复现。 |
| 数据质量验证 | 🔄 | 自检页面新增候选/策略/持仓/新闻质量检查，后续补自动化管线。 |
| 教程与示例 | ⏳ | 编写 Notebook 或 End-to-End 教程覆盖“数据→回测→调参→评估”。 |
| 日志收集机制 | ⏳ | 完善日志聚合与查询工具，支撑问题定位。 |

## 文档与知识库

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| README 对外化 | 🔄 | 重写支持快速了解定位、功能、部署方式（本轮更新进行中）。 |
| 原理文档分册 | 🔄 | 多智能体、强化学习调参、风险控制等原理文档按专题拆分。 |
| 业务流程手册 | ⏳ | 梳理投研/交易流程，评估代码实现是否吻合业务需求。 |
| 文档同步机制 | ⏳ | 建立功能迭代后的文档更新流程与责任人。 |

## 架构与代码整洁

| 工作项 | 状态 | 说明 |
| --- | --- | --- |
| 全量代码审查 | 🔄 | 已制定 `docs/architecture/code_review_checklist.md`，按 checklist 推进模块审查。 |
| TODO 标记治理 | 🔄 | 新增 `scripts/todo_report.py` 支撑定期扫描，待梳理遗留项目。 |
| 业务逻辑体检 | ✅ | 梳理业务链路完成，已拆分采集/覆盖/决策模块；详见 docs/architecture/business_logic_healthcheck.md。 |
