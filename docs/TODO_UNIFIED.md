# LLM量化交易助理系统开发计划

> 项目愿景：开发一个可实战的投资助理工具，其业务水平要处在投资的前列。核心是通过多智能体协作提供高质量的投资决策支持。

> 开发进度（2025-10-05）：  
> ✓ 基础因子计算框架  
> ✓ 数据访问与监控  
> ✓ 核心回测系统  
> ✓ LLM基础集成  
> △ RSS新闻处理  
> △ UI与监控系统

## 一、核心功能模块优先级排序

### 1. 数据与特征层（P0）
#### 1.1 因子计算模块优化
- [x] 完善 `compute_factors()` 函数实现：
  - [x] 添加数据有效性校验机制
  - [x] 实现异常值检测与处理逻辑
  - [x] 增加计算进度显示和日志记录
  - [x] 优化因子持久化性能
  - [ ] 支持增量计算模式

#### 1.2 DataBroker增强
- [x] 开发数据请求失败的自动重试机制
- [x] 增加数据源健康状态监控
- [ ] 设计数据质量评估指标系统

#### 1.3 因子库扩展
- [x] 扩展动量类因子群
- [x] 开发估值类因子群
- [x] 设计流动性因子群
- [x] 构建市场情绪因子群
- [ ] 开发因子组合和权重优化算法

#### 1.4 新闻数据源完善
- [x] 完成RSS数据获取和解析
- [x] 增强情感分析能力
- [ ] 改进实体识别准确率
- [ ] 实现新闻时效性评分

### 2. 决策优化（P1）
#### 2.1 决策环境增强
- [x] 扩展DecisionEnv动作空间：
  - [x] 支持提示版本选择
  - [x] 允许调节部门温度
  - [ ] 优化function调用策略
- [x] 增加环境观测维度：
  - [x] 加入换手率指标
  - [x] 纳入风险事件统计
  - [ ] 补充市场情绪指标

#### 2.2 回测系统完善
- [x] 优化成交撮合逻辑：
  - [x] 统一仓位限制
  - [x] 考虑换手约束
  - [x] 加入滑点模拟
  - [x] 计算交易成本
- [x] 完善风险控制：
  - [x] 实现止损机制
  - [x] 添加波动率限制
  - [x] 设置集中度控制

### 3. LLM协同（P1）
- [x] 精简和优化Provider管理
- [x] 增强function-calling架构
- [x] 完善错误处理和重试策略
- [ ] 优化提示工程：
  - [ ] 设计配置化角色提示
  - [ ] 优化数据范围控制
  - [ ] 改进上下文管理

### 4. UI与监控（P2）
#### 4.1 功能增强
- [ ] 实现"一键重评估"功能
- [ ] 开发多版本实验对比
- [x] 添加实时指标面板
- [ ] 设计异常日志钻取功能

#### 4.2 监控增强
- [ ] 开发"仅监控不干预"模式
- [x] 实现策略实时评估
- [x] 添加风险预警功能
- [ ] 设计绩效归因分析

### 5. 测试与部署（P2）
- [x] 补充核心路径单元测试
- [ ] 建立端到端集成测试
- [ ] 完善日志收集机制

## 二、近期开发重点（2025 Q4）

1. ✓ 完成因子计算模块的优化和重构
2. ✓ 实现基础因子库的扩展
3. ✓ 优化DataBroker的数据访问性能
4. △ 完善RSS新闻数据源的接入
5. ✓ 开始着手决策环境的增强

## 三、开发原则

1. 保持简单：每个模块只实现最核心的功能
2. 重视可靠性：核心功能必须稳定可靠
3. 易于使用：交互界面简单直观
4. 容错设计：关键节点预留人工介入的可能

> 注：此计划将根据实际使用体验持续优化，始终保持简单实用的原则。上次更新：2025-10-05
